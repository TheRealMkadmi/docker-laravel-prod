#!/usr/bin/with-contenv bash
set -e

cd ${ROOT}
echo "Starting Laravel application..."

# For Laravel Octane with Swoole
if [[ "${OCTANE_SERVER}" == "swoole" ]]; then
    echo "Starting Laravel Octane with Swoole server..."
    exec php artisan octane:start --server=swoole --host=0.0.0.0 --port=8000
else
    # Fallback to standard Laravel server
    echo "Starting Laravel development server..."
    exec php artisan serve --host=0.0.0.0 --port=8000
fi
